import{r as t,h as s,H as n,g as o}from"./p-80f0c69a.js";import{i as a}from"./p-4f8f1bd9.js";const i='<svg\n  aria-label=\'ascending\'\n  xmlns="http://www.w3.org/2000/svg"\n  viewBox="0 0 24 24"\n>\n  <g>\n    <path\n      transform="rotate(180, 12, 12)"\n      d="M17 17L15.59 15.59L12.9999 18.17V2H10.9999V18.17L8.41 15.58L7 17L11.9999 22L17 17Z"\n    ></path>\n  </g>\n</svg>\n',e='<svg\n  aria-label=\'descending\'\n  xmlns="http://www.w3.org/2000/svg"\n  viewBox="0 0 24 24"\n>\n  <g>\n    <path\n      d="M17 17L15.59 15.59L12.9999 18.17V2H10.9999V18.17L8.41 15.58L7 17L11.9999 22L17 17Z"\n    ></path>\n  </g>\n</svg>\n';function r(t,s,n){const o=t[0].parentNode,a=t[s],i=t[n],e=i.nextSibling;o.insertBefore(i,a),o.insertBefore(a,e)}function l(t,s,n,o=(t=>t.textContent),a=((t,s)=>t<s)){if(s>=n||s<0)return;const i=function(t,s,n,o,a){const i=o(t[Math.floor((s+n)/2)]);for(;s<=n;){for(;a(o(t[s]),i);)s++;for(;a(i,o(t[n]));)n--;s<=n&&(r(t,s,n),s++,n--)}return s}(t,s,n,o,a);l(t,s,i-1,o,a),l(t,i,n,o,a)}function h(t,s,n,o=(t=>t.textContent)){l(t,s,n,o,((t,s)=>t>s))}const d=class{constructor(s){t(this,s),this.headers=null,this.tableTitle=void 0,this.sortColumn=void 0,this.descending=!1,this.sortAscending=!this.descending}componentDidLoad(){const t=t=>Array.from(t.childNodes).filter((t=>"#text"!==t.nodeName)),s=Array.from(this.el.querySelectorAll("va-table-row"))[0];this.headers=t(s);const n=[];if(this.headers.forEach((t=>{n.push(t.textContent),t.setAttribute("role","columnheader"),t.setAttribute("scope","col")})),this.sortColumn>=0&&n.length>this.sortColumn){const t=this.sortAscending?i:e,s=document.createElement("button");s.setAttribute("aria-label","sort data by "+(this.sortAscending?"descending":"ascending")),s.classList.add("vads-u-padding--0","vads-u-margin--0","vads-u-text-decoration--none","vads-u-font-weight--bold","vads-u-background-color--gray-lightest","vads-u-color--base"),s.innerHTML=`${n[this.sortColumn]}${t}`,s.onclick=this.handleSort.bind(this);const o=this.headers[this.sortColumn];o.childNodes.forEach((t=>t.remove())),o.appendChild(s),this.handleSort()}const o={},r=()=>{const s=Array.from(this.el.querySelectorAll("va-table-row")).filter((t=>"headers"!==t.slot));Array.from(s).forEach(((s,i)=>{t(s).forEach(((t,s)=>{0===i&&a(t.textContent)&&(o[s]="text-align-right",this.headers[s].classList.add(o[s])),o[s]&&t.classList.add(o[s]),t.setAttribute("data-label",n[s]),t.setAttribute("role","cell")}))}))};r();const l=this.el.shadowRoot.querySelectorAll("slot")[1].assignedElements()[0];this.observer=new MutationObserver((t=>{for(const s of t)"childList"!==s.type&&"characterData"!==s.type||r()})),this.observer.observe(l,{childList:!0,subtree:!0,characterData:!0})}disconnectedCallback(){this.observer&&this.observer.disconnect()}componentDidUpdate(){if(this.sortColumn>=0){const t=this.sortAscending?e:i;this.el.querySelector("va-table-row[slot] button").children[0].outerHTML=t}}handleSort(){const t=this.headers[this.sortColumn];(this.sortAscending?l:h)(this.el.children,1,this.el.children.length-1,(t=>t.children[this.sortColumn].textContent)),t.setAttribute("aria-sort",this.sortAscending?"ascending":"descending"),this.sortAscending=!this.sortAscending}render(){const{tableTitle:t}=this;return s(n,{role:"table"},t&&s("caption",null,t),s("thead",null,s("slot",{name:"headers"})),s("tbody",null,s("slot",null)))}get el(){return o(this)}};d.style=":host{display:table;font-family:var(--font-source-sans);border-collapse:collapse;margin:0;padding:0;width:100%}::slotted([slot='headers']){background:var(--color-gray-lightest);font-weight:700}caption{text-align:left;padding:0 0 0.5rem;font-weight:700;font-size:2rem;font-family:var(--font-serif);margin-bottom:1.2rem}@media screen and (max-width: 768px){thead{display:none}::slotted(va-table-row){border-bottom:1px solid var(--color-gray-medium)}::slotted(va-table-row):first-child{border-top:1px solid var(--color-gray-medium)}}";export{d as va_table}